---
name: sdd-review
description: Use when the user wants to verify quality gates against spec compliance checklists, or types /sdd-review.
version: 0.3.0
---

# /sdd-review — 품질 게이트 검증

스펙 준수 체크리스트에 대한 종합적인 품질 검증을 수행합니다.

## 사용법

```
/sdd-review              # 전체 리뷰
/sdd-review quick        # 체크리스트 상태만 확인 (코드 검증 없음)
```

## 동작

### 1단계: 체크리스트 감사

`docs/specs/06-spec-checklist.md`를 읽고 모든 항목을 분류합니다:
- `[x]` 항목 → 코드가 존재하고 스펙과 일치하는지 검증
- `[ ]` 항목 → 미완료로 보고

### 2단계: 코드 검증 (전체 리뷰)

각 `[x]` 항목에 대해 `sdd-reviewer` 에이전트를 사용하여:

1. **코드 찾기**: 스펙이 참조하는 구현 파일을 찾습니다.
2. **스펙 준수 확인**: 구현과 스펙 섹션을 비교합니다.
3. **테스트 확인**: 공개 인터페이스에 대한 테스트 파일이 존재하는지 확인합니다.

각 항목을 분류합니다:
- **PASS**: 코드 존재, 스펙 일치, 테스트 존재
- **FAIL**: 코드 누락, 스펙 불일치, 또는 테스트 누락
- **PARTIAL**: 부분적으로 구현됨

### 2.5단계: 자동화된 진단

`sdd-code-analyzer` 에이전트를 사용하여 자동화된 검사를 수행합니다:

1. **진단 실행**: 프로젝트 고유의 진단 도구 실행 (tsc, ruff, cargo check 등)
2. **에러/경고 수집**: 출력을 구조화된 에러 목록으로 파싱
3. **체크리스트 항목에 매핑**: 가능한 경우 진단 결과를 스펙 체크리스트 항목 ID와 연결
4. **포맷 검증 실행**: 수정된 파일이 프로젝트 포맷팅 규칙을 따르는지 확인

리뷰 리포트의 "자동화된 검사" 섹션에 결과를 포함합니다:

```
자동화된 검사:
  진단: 0개 에러, 3개 경고
  포맷팅: 2개 파일 포맷팅 필요
  스펙 커버리지: 25/28 항목에 매칭되는 코드 존재 (ast-grep)
```

에러는 품질 게이트를 차단합니다. 경고와 포맷 문제는 보고되지만 차단하지 않습니다.

### 3단계: 테스트 실행

프로젝트에 테스트 명령이 설정된 경우:
1. 테스트 스위트 실행
2. 결과 보고 (통과/실패/건너뛰기 수)
3. 가능한 경우 실패를 체크리스트 항목과 연결

### 4단계: 리뷰 리포트 생성

다음 내용으로 `docs/specs/08-review-report.md`를 생성합니다:
- 요약 통계
- 항목별 상세 결과
- 실패 항목에 대한 구체적인 개선 지침
- 전체 권장 사항 (통합 진행 또는 재작업)

### 5단계: 판정

```
품질 게이트 결과:
  전체: 28개 항목
  PASS:  25
  FAIL:   2
  PARTIAL: 1
  통과율: 89%

실패 항목:
  - API-003: 422 에러 핸들러 → UserController에 누락
  - TEST-002: 통합 테스트 → 테스트 파일 없음

권장 사항: /sdd-build로 돌아가 재작업
```

모든 항목이 통과한 경우:
```
품질 게이트: 통과 (28/28 항목, 100%)
모든 테스트 통과.

다음 단계: /sdd-integrate — PR 생성 및 마무리
```

항목이 실패한 경우:
```
품질 게이트: 실패 (25/28 항목, 89%)
3개 항목 재작업 필요.

다음 항목을 수정하려면 /sdd-build를 실행하세요:
  - API-003, TEST-002, SEC-001

또는 수정 후 진행 상황을 확인하려면 /sdd-review quick을 실행하세요.
```

## 출력

- `docs/specs/08-review-report.md`

## 의존성

- `docs/specs/06-spec-checklist.md` (`/sdd-spec`에서 생성)
- 구현 코드 (`/sdd-build`에서 생성)
