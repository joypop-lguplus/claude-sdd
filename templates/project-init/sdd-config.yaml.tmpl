# SDD 프로젝트 설정
# /sdd-init에 의해 생성됨

project:
  name: "{{PROJECT_NAME}}"
  type: "{{PROJECT_TYPE}}"  # new | legacy
  description: "{{PROJECT_DESCRIPTION}}"

# 스펙 디렉토리 위치
specs:
  directory: "docs/specs"
  checklist: "docs/specs/06-spec-checklist.md"

# 요구사항 소스
sources:
  confluence: []      # 예: ["PAGE-123", "PAGE-456"]
  jira: []            # 예: ["PROJ-100"]
  figma: []           # 예: ["https://figma.com/file/..."]
  files: []           # 예: ["docs/prd.md"]

# 에이전트 팀 설정
teams:
  max_members: 3      # 최대 병렬 팀 멤버 수
  model: "sonnet"     # 팀 멤버용 모델
  max_rework_cycles: 3  # 에스컬레이션 전 재작업 시도 횟수
  tdd: false          # TDD 모드 (true: 테스트 먼저 → 구현 → 검증)

# 테스트 설정 (TDD 모드에서 사용)
test:
  command: ""         # 예: "npm test", "pytest", "go test ./..."
  coverage: false     # 커버리지 리포트 생성 여부

# 품질 게이트 설정
quality:
  require_tests: true
  require_lint: true
  categories:
    - ARCH
    - API
    - DM
    - COMP
    - TEST
    - SEC
    - PERF
    - UI

# 프로젝트 규칙 설정 (선택 사항)
# /claude-sdd:sdd-godmode 인터뷰 또는 수동으로 활성화
# rules:
#   enabled: true                    # 프로젝트 규칙 검증 활성화
#   enforcement: "strict"            # strict(위반=FAIL) | advisory(위반=경고)
#   preset: ""                       # auto-detect 또는 java-spring/typescript-node/python-fastapi/kotlin-spring/go
#   validation:
#     on_spec: true                  # sdd-spec에서 규칙 정합성 검증
#     on_build: true                 # sdd-build 품질 루프에서 규칙 준수 검증
#     on_review: true                # sdd-review에서 최종 검증

# 통합 설정
integration:
  create_pr: true
  update_changelog: true
  branch_prefix: "sdd/"
  pr_strategy: "single"  # single | per-domain

# Confluence 퍼블리싱 설정 (선택 사항)
# /claude-sdd:sdd-init 인터뷰에서 활성화하거나 수동으로 설정
# publishing:
#   confluence:
#     enabled: true
#     mcp_server: "mcp-atlassian-company1"   # ~/.claude.json의 MCP 서버 이름
#     space_key: "TECH"
#     root_page_id: "332398793"
#     diagrams:
#       enabled: true
#       tool: "auto"              # auto | graphviz | diagrams
#     sync:
#       strategy: "incremental"
#       timestamps: {}            # 자동 관리 — 파일별 마지막 퍼블리싱 시각
#     page_ids: {}                # 자동 관리 — 산출물별 Confluence 페이지 ID

# 레거시 모드 설정 (project.type: legacy일 때 사용)
# legacy:
#   analysis_cr_mode: "suggest"  # suggest | auto | manual
#   # suggest: 분석 갭을 자동 그룹핑하여 사용자에게 CR 추천 제시
#   # auto: 모든 갭에서 자동으로 CR 생성 후 sdd-change 진행
#   # manual: 분석 보고서만 생성, 사용자가 /claude-sdd:sdd-change로 직접 CR 관리

# 변경 사이클 이력 (sdd-change가 자동 관리)
# change_cycles:
#   - id: "CR-001"
#     title: "변경 제목"
#     status: "completed"  # new | analyzing | approved | building | verifying | completed
#     date: "2025-01-01"
#     affected_items: 5
#     new_items: 3

# 멀티 도메인 설정 (선택 사항)
# 대규모 프로젝트에서 도메인별 독립 라이프사이클이 필요한 경우 정의합니다.
# 도메인을 추가하려면: /claude-sdd:sdd-init add-domain <id>
# domains:
#   - id: "example-domain"
#     name: "예제 도메인"
#     description: "도메인 설명"
#     sources:
#       confluence: []
#       jira: []
#     dependencies: []  # 의존하는 도메인 ID 목록
